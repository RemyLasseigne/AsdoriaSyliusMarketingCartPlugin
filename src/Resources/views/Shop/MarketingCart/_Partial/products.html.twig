{#{{ dump(app.request) }}#}
{% set path = path('asdoria_marketing_shop_marketing_cart_show', app.request.attributes.get('_route_params')) %}
{% set criteria = app.request.query.get('criteria') %}
{% set definition = products.definition %}
{% import '@SyliusUi/Macro/buttons.html.twig' as buttons %}
<div class="ui stackable grid">
    <div class="four wide column">
        <div class="title {% if criteria is not null %}active{% endif %}">
            <i class="dropdown icon"></i>
            <i class="filter icon"></i>
            {{ 'sylius.ui.filters'|trans }}
        </div>
        <div class="content {% if criteria is not null %}active{% endif %}">
            <form method="get" action="{{ path }}" class="ui loadable form" novalidate>
                <div class="sylius-filters">
                    {% for filter in definition.enabledFilters|filter(filter => filter.enabled)|sort_by('position') %}
                        <div class="sylius-filters__field">
                            {{ sylius_grid_render_filter(products, filter) }}
                        </div>
                    {% endfor %}
                </div>
                {{ buttons.filter() }}
                {{ buttons.resetFilters(path) }}
            </form>
        </div>
    </div>
    <div class="twelve wide column">
        {% include '@SyliusShop/Product/Index/_main.html.twig' %}
    </div>
</div>
